<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>To: 白佳学妹</title>
    <style>
        /* --- 基础设置 --- */
        body {
            margin: 0; padding: 0;
            width: 100%; height: 100vh;
            overflow: hidden;
            background-color: #000; /* 黑色背景，与图片边缘融合 */
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: "Microsoft YaHei", sans-serif;
        }

        /* --- 背景图片层 (圣诞树) --- */
        #tree-bg {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            
            /* 图片显示方式：保持比例，覆盖屏幕 */
            background-image: url('./tree.png'); 
            background-position: center center;
            background-repeat: no-repeat;
            background-size: cover; /* 铺满全屏 */
            
            /* 加一点微弱的呼吸动画，让图片看起来也是“活”的 */
            animation: breatheImg 4s infinite ease-in-out;
        }

        /* 如果图片主体被截断，可以用 contain 模式，但会有黑边。
           目前用 cover 更有沉浸感 */

        @keyframes breatheImg {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); } /* 微微放大 */
            100% { transform: scale(1); }
        }

        /* --- 爱心画布层 --- */
        canvas {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 2; /* 在图片上面 */
            pointer-events: none; 
        }

        /* --- 文字容器 (保留之前的上下布局) --- */
        .text-container {
            position: absolute;
            z-index: 3; 
            bottom: 8%; /* 距离底部的位置 */
            left: 50%;
            transform: translateX(-50%);
            width: 82%; 
            padding: 20px;
            
            /* 磨砂玻璃质感 */
            background: rgba(0, 0, 0, 0.5); 
            border-radius: 15px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            
            color: #ffeeb0; /* 米金色文字 */
            text-align: justify;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.9);
            pointer-events: none;
        }

        .title {
            font-size: 18px;
            font-weight: bold;
            color: #fff; /* 亮白色标题 */
            margin-bottom: 12px;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .content {
            font-size: 14px;
            line-height: 1.7;
            opacity: 0;
            animation: fadeInText 3s ease-in forwards 0.5s;
        }

        @keyframes fadeInText {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <div id="tree-bg"></div>
    
    <canvas id="heartCanvas"></canvas>

    <div class="text-container">
        <div class="title">亲爱的白佳学妹：</div>
        <div class="content">
            我嘴笨，不太会说那些甜言蜜语的哄人话，但我心里装满了想对你好的念头。我可能给不了太华丽的承诺，却会把你放在心尖上，用实实在在的行动，护着你、陪着你。<br><br>
            我多希望我们能牵着彼此的手，互相扶持，一起走过岁岁年年，从晨光微熹走到暮色沉沉，把这条路，走得又远又长。
        </div>
    </div>

    <script>
        // --- 满屏爱心动画逻辑 (无需修改) ---
        const canvas = document.getElementById('heartCanvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let hearts = [];

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        }
        window.addEventListener('resize', resize);
        resize();

        class Heart {
            constructor() {
                this.reset(true);
            }

            reset(initial = false) {
                this.x = Math.random() * width;
                this.y = initial ? Math.random() * height : height + 20;
                this.size = Math.random() * 10 + 5;
                this.speed = Math.random() * 1.5 + 0.5;
                // 调整爱心颜色：为了配合蓝色背景，加入一点点蓝紫色调，但主体还是粉色
                // 偶尔出现淡蓝色爱心呼应背景
                if(Math.random() > 0.8) {
                     this.color = `hsla(200, 80%, 70%, ${Math.random() * 0.4 + 0.3})`; // 浅蓝
                } else {
                     this.color = `hsla(${Math.random() * 40 + 330}, 90%, 70%, ${Math.random() * 0.4 + 0.3})`; // 粉红
                }
                this.velX = Math.random() * 1 - 0.5;
            }

            update() {
                this.y -= this.speed;
                this.x += this.velX + Math.sin(this.y * 0.01) * 0.3;
                if (this.y < -50) {
                    this.reset(false);
                }
            }

            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                let t = this.size; 
                let x = this.x; 
                let y = this.y;
                ctx.moveTo(x, y + t * 0.3);
                ctx.bezierCurveTo(x - t / 2, y - t / 2, x - t, y + t / 3, x, y + t);
                ctx.bezierCurveTo(x + t, y + t / 3, x + t / 2, y - t / 2, x, y + t * 0.3);
                ctx.fill();
            }
        }

        function initHearts() {
            const count = width < 500 ? 60 : 120; 
            for (let i = 0; i < count; i++) {
                hearts.push(new Heart());
            }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            hearts.forEach(heart => {
                heart.update();
                heart.draw();
            });
            requestAnimationFrame(animate);
        }

        initHearts();
        animate();

    </script>
</body>
</html>
